@import "tailwindcss";

/* --- mobile-first :root --- */
:root {
  /* baseline & rhythm */
  --baseline: 6px;                        /* mobile base rhythm */
  --space-1: calc(var(--baseline) * 1);
  --space-2: calc(var(--baseline) * 2);
  --space-3: calc(var(--baseline) * 3);
  --space-4: calc(var(--baseline) * 4);

  /* card / box */
  --card-padding: calc(var(--baseline) * 2);
  --card-radius: 6px;
  --card-border: 0px solid rgba(39,39,39,0.08);
  --card-bg: #ffffff;

  /* global layout (mobile defaults) */
  --page-gutter: 6px;         /* left/right outer margin (mobile) */
  --page-vertical: 6px;       /* top/bottom margin for header/section/footer */
  --container-vertical: 6px;  /* vertical spacing around the main grid */
  --content-gap: 6px;         /* grid/gap default */
  --header-spacer: 16px;       /* spacer used in header (mobile small) */

  font-family: "Inter", sans-serif;
  font-feature-settings: "zero", "liga", "ss01";
  font-variation-settings: "wght" 400;
}

@supports (font-variation-settings: normal) {
  :root { font-family: "InterVariable", "Inter", sans-serif; font-optical-sizing: auto; }
}

@theme {
  --font-sans: "Inter", sans-serif;
  --font-mono: "XanhMono", sans-serif;
}

@font-face {
  font-family: "InterVariable";
  font-style: normal;
  font-weight: 100 900;
  font-display: swap;
  src: url("assets/fonts/InterVariable.woff2") format("woff2");
}

@font-face {
  font-family: "XanhMono";
  font-style: normal;
  src: url("assets/fonts/XanhMono-Regular.ttf") format("truetype");
}

body {
  background: #dadada;
}

a {
  color: rgb(106, 0, 255);
}

h2 {
  font-weight: 300;
}

p {
  font-weight: 300;
}

ul {
  padding-top: 10px;
  padding-bottom: 5px;
  font-size: 0.85rem;
}

li {
  display: inline-block;
  position: relative;
}

li:before {
  content: "•";
  position: relative;
  margin-right: 0.3rem;
  top: 0.05rem;
}

/* Background Layer */
.bg-layer {
  position: fixed;
  inset: 0;                     /* top:0; right:0; bottom:0; left:0 */
  pointer-events: none;
  opacity: 0.25;
  mix-blend-mode: normal;                 
  overflow: hidden;
}

.bg-texture {
  --dot-color: rgb(0, 0, 0);
  --dot-size: 0.2px;    /* dot radius/diameter tweak */
  --dot-gap: 3.5rem;    /* spacing between dots */
  content: "";
  position: fixed;
  inset: 0;
  pointer-events: none;
  background-image: radial-gradient(circle, var(--dot-color) var(--dot-size), transparent calc(var(--dot-size) + 1px));
  background-size: var(--dot-gap) var(--dot-gap);
  background-repeat: repeat;
  mix-blend-mode: normal;
  opacity: 1;
}

/* mobile-first defaults (stacked header, single column content) */
.header {
  display: flex;
  flex-direction: column;
  gap: 0;
  align-items: stretch;
  margin: var(--page-vertical) var(--page-gutter);
  color: rgb(39, 39, 39);
}

.logo {
  order: -1;
  text-align: left;
  white-space: nowrap;
}

.spacer {
  order: 0;
  height: var(--page-vertical);
  visibility: hidden;
}

.bio {
  order: 1;
  width: 100%;
}

/* Container */
.container {
  display: grid;
  grid-template-areas:
    "left"
    "right";
  grid-template-columns: 1fr;
  gap: var(--content-gap);
  
}

.container div.left {
  grid-area: left;
}

.container div.right {
  grid-area: right;
}

/* Slideshow */
.slideshow {
  max-width: 100%;
  min-height: 0;
  height: auto;
  overflow: hidden;
  position: relative;
}

.slides { 
  max-width: 100%;
  min-height: 0;
  height: auto;
  display: flex;
}

.slide {
  max-width: 100%;
  min-height: 0;
  height: auto;
  flex-shrink: 0;
  display: flex;
  justify-content: center;
  align-items: center;
}

.slide img {
  max-width: 100%;
  max-height: 100%;
  object-fit: contain;
}

/* Accordion */
.accordion {
  width: 100%;
  max-width: none;
  box-sizing: border-box;
  display: block;
}

.accordion-item {
  margin-top: 6px;
  padding-bottom: 6px;
  border-bottom: 1px solid rgb(39, 39, 39);
}

.accordion-trigger {
  display: inline-flex;
  width: 100%;
  max-width: none;
  box-sizing: border-box;
  padding: 3px 0px;
  cursor: pointer;
  transition: background 150ms ease;
}

.accordion-trigger::after {
  content: "▾";
  display: inline-flex;
  font-size: 0.9rem;
  transform-origin: center;
  transition: transform 180ms ease;
  color: rgb(39,39,39);
}

.accordion-trigger[aria-expanded="true"]::after {
  transform: rotate(-180deg);
}

/* Panel uses max-height to animate; keep overflow hidden */
.accordion-panel {
  width: 100%;
  max-width: none;
  box-sizing: border-box;
  overflow: hidden;
  max-height: 0;
  opacity: 0;
  /* transition: max-height 280ms cubic-bezier(.2,.9,.2,1), opacity 220ms ease; */
}

/* expanded state helper (added/controlled by JS via inline style) */
.accordion-panel.is-open {
  opacity: 1;
}

.accordion-labels {
  display: grid;
  grid-template-columns: repeat(0, 1fr);
}

.accordion-labels col-span-2 {
  grid-column: span 2;
}

/* Columns */
.column {
  columns: auto;
  column-gap: normal;
  column-count: 2;
}

/* Footer */
.footer {
  display: flex;
}

/* --- universal box / card --- */
.box,
.card {
  box-sizing: border-box;
  width: 100%;
  display: block;
  background: var(--card-bg);
  border: var(--card-border);
  border-radius: 0px 0px var(--card-radius) var(--card-radius);
  padding: var(--card-padding);
  color: inherit;
  margin: 0;                    /* spacing should be controlled by parent grid/gap */
  min-width: 0;                 /* avoid overflow in flex/grid children */
  max-width: none;
}

/* variants */
.box--tight { padding: var(--space-2); }
.box--flush { padding: var(--space-1); }
.box--accent {
  box-shadow: 0 6px 18px rgba(0,0,0,0.03);
  border-color: rgba(39,39,39,0.06);
}

/* align internal content to baseline rhythm */
.box > * {
  margin-top: 0;
  margin-bottom: var(--space-2);
}
.box > *:last-child { margin-bottom: 0; }

/* utilities for grid column spanning (optional, useful when using CSS grid) */
.box--span-1 { grid-column: span 1; }
.box--span-2 { grid-column: span 2; }

/* make interactive elements inside boxes stretch to edges */
.box .accordion-trigger,
.box .accordion-panel,
.box .slides {
  width: 100%;
  box-sizing: border-box;
}

/* background panels (stacked, crossfade-capable) */
.bg-project-panel {
  position: absolute;
  inset: 0;
  opacity: 0;
  overflow: hidden;
  pointer-events: none;
  transition: opacity 360ms ease;
  display: block;
}

/* visible panel */
.bg-project-panel.active {
  opacity: 1;
  pointer-events: auto;
}

/* make images inside panels cover */
.bg-project-panel img {
  width: 100%;
  height: 100%;
  object-fit: cover;
}

/* --- consolidated breakpoint: tablet and up --- */
@media (min-width: 769px) {
  /* adjust rhythm/spacing for larger screens */
  :root {
    --baseline: 8px;
    --card-padding: calc(var(--baseline) * 2);
    --page-gutter: 6px;
    --container-vertical: 6px;
    --content-gap: 6px;
    --header-spacer: 120px;
  }

  /* header becomes horizontal with spacer */
  .header {
    display: flex;
    flex-direction: row;
    align-items: flex-start;
    justify-content: space-between;
    margin: var(--page-vertical) var(--page-gutter);
  }
  .spacer { 
    display: block; 
    flex: 0 0 var(--header-spacer); 
    width: var(--header-spacer); 
    height: 1px; 
    visibility: visible;
    border-left: var(--content-gap) solid transparent;
    border-right: var(--content-gap) solid transparent;
  }

  /* two-column layout */
  .container {
    grid-template-areas: "left right";
    grid-template-columns: 1fr 1fr;
    gap: var(--content-gap);
  }

  /* reintroduce a desktop slideshow height */
  .slideshow { max-width: 600px; min-height: 600px; margin-left: auto; }
  .slides, .slide { height: 600px; }

  /* boxes slightly larger radius on tablet/desktop */
  .box, .card { 
    min-height: 120px;
    border-radius: 6px; 
  }
}

/* --- wide screens --- */
@media (min-width: 1200px) {
  :root {
    --page-gutter: 60px;
    --container-vertical: 40px;
    --content-gap: 28px;
    --header-spacer: 360px;
  }

  .container {
    grid-template-columns: 1fr 1fr;
    margin: var(--container-vertical) var(--page-gutter);
    gap: var(--content-gap);
  }

  .slideshow { max-width: 800px; min-height: 600px; }
  .slides, .slide { height: 600px; }
  .box, .card { padding: var(--card-padding); }
}